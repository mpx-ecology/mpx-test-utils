(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{476:function(t,r,e){"use strict";e.r(r);var a=e(65),s=Object(a.a)({},(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"基础工具简介"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基础工具简介"}},[t._v("#")]),t._v(" 基础工具简介")]),t._v(" "),e("h2",{attrs:{id:"小程序自定义组件测试工具集"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#小程序自定义组件测试工具集"}},[t._v("#")]),t._v(" 小程序自定义组件测试工具集")]),t._v(" "),e("p",[t._v("目前因为小程序独特的运行环境，所以对于小程序自定义组件的单元测试一直没有比较优雅的解决方案，我们需要一个工具将原本小程序自定义组件双线程分离运行的机制调整成单线程模拟运行，利用 dom 环境进行渲染，借此来完成整个自定义组件树的搭建，这里微信官方提供了miniprogram-simulate工具。")]),t._v(" "),e("h2",{attrs:{id:"选择一个测试运行器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#选择一个测试运行器"}},[t._v("#")]),t._v(" 选择一个测试运行器")]),t._v(" "),e("p",[t._v("测试运行器 (test runner) 就是运行测试的程序。")]),t._v(" "),e("p",[t._v("主流的 JavaScript 测试运行器有很多，在众多前端单元测试框架中，Jest 目前凭借零配置，高性能，且对于断言，快照，覆盖率等都有很好的集成，是目前较为流行的一个单测框架，当前推荐选择 Jest 做为单测框架")]),t._v(" "),e("p",[t._v("Jest 是一个由 Facebook 开发的测试运行器，致力于提供一个“bettery-included”单元测试解决方案。你可以在其"),e("a",{attrs:{href:"https://jestjs.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方文档"),e("OutboundLink")],1),t._v("学习到更多 Jest 的知识。")]),t._v(" "),e("h2",{attrs:{id:"浏览器环境"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#浏览器环境"}},[t._v("#")]),t._v(" 浏览器环境")]),t._v(" "),e("p",[t._v("小程序组件在单测场景下渲染依赖浏览器环境。技术上讲你可以将其运行在一个真实的浏览器，但是我们并不推荐，因为在不同的平台上都启动真实的浏览器是很复杂的。我们推荐取而代之的是用 "),e("a",{attrs:{href:"https://github.com/tmpvar/jsdom",target:"_blank",rel:"noopener noreferrer"}},[t._v("JSDOM"),e("OutboundLink")],1),t._v(" 在 Node 虚拟浏览器环境运行测试。")]),t._v(" "),e("p",[t._v("Jest 测试运行器自动设置了 JSDOM。对于其它测试运行器来说，你可以在你的测试入口处使用 "),e("a",{attrs:{href:"https://github.com/rstacruz/jsdom-global",target:"_blank",rel:"noopener noreferrer"}},[t._v("jsdom-global"),e("OutboundLink")],1),t._v(" 手动设置 JSDOM。")]),t._v(" "),e("h2",{attrs:{id:"测试单文件组件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#测试单文件组件"}},[t._v("#")]),t._v(" 测试单文件组件")]),t._v(" "),e("p",[t._v("Mpx 的单文件组件在它们运行于浏览器之前是需要预编译的。我们目前通过一个 Jest 预编译器来完成此步骤。")]),t._v(" "),e("p",[e("code",[t._v("mpx-jest")]),t._v(" 预处理器支持基本的单文件组件功能，但是目前还不能处理样式块。")]),t._v(" "),e("p",[t._v("对于不同的设置方式请移步下面的教程：")]),t._v(" "),e("ul",[e("li",[e("RouterLink",{attrs:{to:"/installation/installation-and-configuration.html"}},[t._v("安装与配置")])],1)])])}),[],!1,null,null,null);r.default=s.exports}}]);